import{r as t,j as e}from"./app-DKWSqCLn.js";import{Dialog as b,DialogTrigger as C,DialogContent as G,DialogHeader as S,DialogTitle as k}from"./dialog-DmDpxKIV.js";import{Button as _}from"./button-4rc5qBUT.js";import{Input as f}from"./input-C-f-VMEY.js";import{Label as j}from"./label-BStIJtXr.js";import{Alert as D,AlertDescription as E}from"./alert-CMDAERld.js";import{c as A}from"./createLucideIcon-DyOxXLvW.js";import"./index-C4YSIZDO.js";import"./index-DLIh3Fdr.js";import"./index-CmhHf1z5.js";/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=A("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);function z({match:s,onSave:y,trigger:w}){var d,x,u,h,g,p;const[i,n]=t.useState(0),[c,m]=t.useState(0),[l,r]=t.useState(!1),[v,o]=t.useState(!1);t.useEffect(()=>{s&&(n(s.home_goals||0),m(s.away_goals||0))},[s]);const N=async()=>{try{await y(s.id,Number.parseInt(i),Number.parseInt(c)),r(!0),setTimeout(()=>{r(!1),o(!1)},3e3)}catch(a){console.error("Error saving match result:",a)}};return s?e.jsxs(b,{open:v,onOpenChange:o,children:[e.jsx(C,{asChild:!0,onClick:()=>{r(!1),o(!0)},children:w}),e.jsxs(G,{children:[e.jsx(S,{children:e.jsx(k,{children:"Edit Match Result"})}),l&&e.jsxs(D,{className:"bg-green-50 border-green-200 text-green-800 mb-4",children:[e.jsx(M,{className:"h-4 w-4 text-green-600"}),e.jsx(E,{children:"Match result updated successfully!"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 py-4 items-center",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"font-medium",children:(d=s.home_team)==null?void 0:d.name}),e.jsxs("div",{className:"flex flex-col items-center mt-1 mb-3",children:[e.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:["Power: ",(x=s.home_team)==null?void 0:x.power]}),e.jsx("div",{className:"w-20 h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-green-600",style:{width:`${((u=s.home_team)==null?void 0:u.power)/100*100}%`}})})]}),e.jsx(j,{htmlFor:"homeGoals",className:"sr-only",children:"Home Goals"}),e.jsx(f,{id:"homeGoals",type:"number",min:"0",value:i,onChange:a=>n(a.target.value),className:"w-16 mx-auto mt-2"})]}),e.jsx("div",{className:"text-center text-2xl font-bold",children:"vs"}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"font-medium",children:(h=s.away_team)==null?void 0:h.name}),e.jsxs("div",{className:"flex flex-col items-center mt-1 mb-3",children:[e.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:["Power: ",(g=s.away_team)==null?void 0:g.power]}),e.jsx("div",{className:"w-20 h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-green-600",style:{width:`${((p=s.away_team)==null?void 0:p.power)/100*100}%`}})})]}),e.jsx(j,{htmlFor:"awayGoals",className:"sr-only",children:"Away Goals"}),e.jsx(f,{id:"awayGoals",type:"number",min:"0",value:c,onChange:a=>m(a.target.value),className:"w-16 mx-auto mt-2"})]})]}),e.jsx(_,{onClick:N,disabled:l,children:l?"Saved!":"Save Result"})]})]}):null}export{z as default};
