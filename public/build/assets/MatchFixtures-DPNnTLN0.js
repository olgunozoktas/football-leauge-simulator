import{r as c,j as e,a as f}from"./app-DKWSqCLn.js";import{Card as y,CardHeader as k,CardTitle as b,CardContent as v}from"./card-DU3RwQMX.js";import{useTeamContext as N}from"./TeamContext-BO8dtYaE.js";import{Alert as C,AlertTitle as M,AlertDescription as F}from"./alert-CMDAERld.js";import{Button as A}from"./button-4rc5qBUT.js";import E from"./FixturesTabs-DM6tt4FE.js";import{c as L}from"./createLucideIcon-DyOxXLvW.js";import"./tabs-C8LhERY8.js";import"./index-C4YSIZDO.js";import"./index-DLIh3Fdr.js";import"./index-CmhHf1z5.js";import"./index-5WF0uy_J.js";import"./badge-Dpz20sDk.js";import"./EditMatchModal-YLTbCXDo.js";import"./dialog-DmDpxKIV.js";import"./input-C-f-VMEY.js";import"./label-BStIJtXr.js";/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=L("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);function Y(){const{fixtures:s,currentWeek:a,simulateMatch:m,updateMatchResult:x,fetchInitialData:h}=N(),[W,i]=c.useState(null),[o,r]=c.useState(!1),d=t=>{i(t)},u=async(t,j,w)=>{try{return await x(t,j,w),i(null),Promise.resolve()}catch(l){return console.error("Error updating match result:",l),Promise.reject(l)}},p=async()=>{try{r(!0),await f.post("/api/fixtures/generate"),await h(),r(!1)}catch(t){console.error("Error generating fixtures:",t),r(!1)}},g=s.length>0,n=a>0;return e.jsxs(y,{children:[e.jsx(k,{className:"bg-green-700 text-white dark:bg-gray-700",children:e.jsx(b,{children:"Match Fixtures"})}),e.jsx(v,{className:"p-4 pt-4",children:g?e.jsxs(e.Fragment,{children:[!n&&e.jsxs(C,{variant:"warning",className:"mb-4 bg-amber-50 border-amber-200 text-amber-800",children:[e.jsx(S,{className:"h-4 w-4"}),e.jsx(M,{children:"No Weeks Started"}),e.jsx(F,{children:"The league hasn't started yet. Start the first week to begin playing matches."})]}),e.jsx(E,{fixtures:s,currentWeek:a,hasStartedWeeks:n,simulateMatch:m,handleEditMatch:d,handleSaveResult:u})]}):e.jsxs("div",{className:"text-center py-12 px-4",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto text-green-600 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Fixtures Available"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 max-w-md mx-auto mb-6",children:"Generate fixtures to create a schedule of matches between all teams in the league."})]}),e.jsx(A,{onClick:p,disabled:o,className:"mx-auto px-6 py-2 bg-green-600 hover:bg-green-700",size:"lg",children:o?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generating Fixtures..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Generate Fixtures"]})})]})})]})}export{Y as default};
