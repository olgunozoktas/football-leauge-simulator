import{r as g,j as e}from"./app-DKWSqCLn.js";import{Card as p,CardHeader as j,CardTitle as b,CardContent as f}from"./card-DU3RwQMX.js";import{useTeamContext as u}from"./TeamContext-BO8dtYaE.js";import{Progress as c}from"./progress-CmBLbQQ5.js";import{Button as o}from"./button-4rc5qBUT.js";import"./index-CmhHf1z5.js";import"./index-DLIh3Fdr.js";function _(){const{teams:t,currentWeek:n,isSimulationComplete:r,updatePredictions:m}=u(),[i,l]=g.useState(!1),a=[...t].sort((s,h)=>h.win_probability-s.win_probability),x=t.some(s=>s.win_probability>0),d=async()=>{l(!0),await m(),l(!1)};return e.jsxs(p,{children:[e.jsxs(j,{className:"bg-green-700 text-white dark:bg-gray-700 flex flex-row justify-between items-center",children:[e.jsx(b,{children:"Championship Predictions"}),n>=4&&!r&&e.jsx(o,{variant:"outline",size:"sm",onClick:d,disabled:i,className:"bg-white hover:bg-gray-100 text-green-700 border-white",children:i?"Updating...":"Update Predictions"})]}),e.jsx(f,{className:"p-6 pt-4",children:n<4?e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-lg text-gray-500 dark:text-gray-400",children:"Predictions will be available after week 3"})}):!x&&!r?e.jsx("div",{className:"text-center py-8",children:e.jsxs("div",{className:"mb-4",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto text-gray-400 mb-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("p",{className:"text-lg text-gray-500 dark:text-gray-400 mb-4",children:"No predictions available yet"}),e.jsx(o,{onClick:d,disabled:i,className:"mx-auto",children:i?"Calculating...":"Calculate Predictions"})]})}):r?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-center",children:[a[0].name," is the Champion!"]}),e.jsx("div",{className:"grid gap-4",children:a.map(s=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-green-700 flex items-center justify-center text-white dark:bg-gray-600",children:s.name.charAt(0)}),e.jsx("span",{className:"font-medium",children:s.name})]}),e.jsx("span",{className:"font-bold",children:s.id===a[0].id?"100%":"0%"})]}),e.jsx(c,{value:s.id===a[0].id?100:0,className:s.id===a[0].id?"bg-green-100":""})]},s.id))})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Championship Probability"}),e.jsx("div",{className:"grid gap-4",children:a.map(s=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-green-700 flex items-center justify-center text-white dark:bg-gray-600",children:s.name.charAt(0)}),e.jsx("span",{className:"font-medium",children:s.name})]}),e.jsxs("span",{className:"font-bold",children:[s.win_probability,"%"]})]}),e.jsx(c,{value:s.win_probability,className:"h-2"})]},s.id))}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200 mt-8 dark:bg-gray-800 dark:border-gray-700",children:[e.jsx("h4",{className:"font-medium mb-2",children:"How predictions work"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Predictions are calculated based on current points, remaining fixtures, team strength, and historical performance. The algorithm considers head-to-head matches, goal difference, and other factors to estimate each team's chance of winning the league."})]})]})})]})}export{_ as default};
